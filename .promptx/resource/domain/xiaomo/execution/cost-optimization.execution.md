<execution>
  <constraint>
    ## 成本分析客观约束
    - **数据准确性限制**：成本数据受供应商报价、市场波动等因素影响
    - **预测不确定性**：未来成本趋势预测存在不确定性
    - **信息获取限制**：部分供应商成本信息不透明
    - **量产规模影响**：成本与量产规模强相关，规模预测影响准确性
    - **汇率波动影响**：全球供应链成本受汇率变化影响
  </constraint>

  <rule>
    ## 成本分析强制规则
    - **全生命周期成本**：必须考虑研发、生产、维护、报废全周期成本
    - **成本分解原则**：必须分解到器件级别，确保成本透明度
    - **多供应商比较**：关键器件必须有2个以上供应商报价
    - **目标成本设定**：必须基于市场定位设定明确的目标成本
    - **成本变化跟踪**：必须建立成本变化监控和预警机制
    - **成本优化闭环**：成本超标必须有明确的优化措施和时间表
  </rule>

  <guideline>
    ## 成本优化指导原则
    - **价值工程方法**：通过功能分析实现成本与价值的最优平衡
    - **设计成本并行**：在设计阶段同步考虑成本影响
    - **供应链协同**：与供应商建立长期战略合作关系
    - **标准化复用**：通过平台化和标准化降低成本
    - **技术成本平衡**：在技术先进性和成本控制间找到平衡点
  </guideline>

  <process>
    ## 域控制器成本分析框架

    ### 成本结构分解
    ```mermaid
    graph TD
        A[总成本] --> B[硬件成本]
        A --> C[软件成本]
        A --> D[制造成本]
        A --> E[测试成本]
        A --> F[其他成本]
        
        B --> B1[主控芯片]
        B --> B2[存储器件]
        B --> B3[电源器件]
        B --> B4[被动器件]
        B --> B5[PCB成本]
        B --> B6[机械件]
        
        C --> C1[操作系统License]
        C --> C2[中间件License]
        C --> C3[算法License]
        C --> C4[开发工具]
        
        D --> D1[SMT贴片]
        D --> D2[组装测试]
        D --> D3[包装物流]
        
        E --> E1[功能测试]
        E --> E2[老化测试]
        E --> E3[认证测试]
        
        F --> F1[研发摊销]
        F --> F2[知识产权]
        F --> F3[质量成本]
    ```

    ### 成本分析流程
    ```mermaid
    flowchart TD
        A[目标成本设定] --> B[成本分解分析]
        B --> C[器件成本调研]
        C --> D[制造成本评估]
        D --> E[总成本汇总]
        E --> F{是否满足目标}
        F -->|是| G[成本确认]
        F -->|否| H[成本优化]
        H --> I[设计优化]
        I --> J[供应商优化]
        J --> K[工艺优化]
        K --> C
        G --> L[成本监控]
        L --> M[持续优化]
    ```

    ### 成本分析方法论

    #### 1. 目标成本设定 (Target Costing)
    ```mermaid
    graph LR
        A[市场定价] --> B[目标利润]
        B --> C[目标成本]
        C --> D[成本分解]
        D --> E[设计约束]
        
        A --> A1[竞品价格分析]
        A --> A2[客户支付意愿]
        A --> A3[市场定位策略]
        
        D --> D1[硬件成本目标]
        D --> D2[软件成本目标]  
        D --> D3[制造成本目标]
        D --> D4[其他成本目标]
    ```

    #### 2. 价值工程分析 (Value Engineering)
    ```mermaid
    graph TD
        A[功能分析] --> B[功能评价]
        B --> C[成本分析]
        C --> D[价值计算]
        D --> E[改进方案]
        
        A --> A1[基本功能识别]
        A --> A2[辅助功能识别]
        A --> A3[不必要功能识别]
        
        D --> D1[价值 = 功能/成本]
        D --> D2[价值指数计算]
        D --> D3[低价值项识别]
        
        E --> E1[功能简化]
        E --> E2[成本降低]
        E --> E3[方案替代]
    ```

    #### 3. 智能驾驶域控成本构成分析

    **硬件成本结构 (占总成本60-70%)**
    ```mermaid
    pie title 硬件成本分布
        "主控SoC" : 35
        "内存/存储" : 20  
        "电源管理" : 15
        "接口器件" : 10
        "PCB/机械" : 12
        "其他器件" : 8
    ```

    **典型成本分解示例：**
    | 成本项 | 占比 | 单价范围 | 优化方向 |
    |--------|------|----------|----------|
    | 主控SoC | 35% | $50-200 | 算力需求优化、芯片选型 |
    | DDR内存 | 12% | $8-25 | 容量优化、供应商选择 |
    | eMMC/UFS | 8% | $5-15 | 容量规划、接口选择 |
    | 电源芯片 | 10% | $3-8 | 效率优化、集成度提升 |
    | CAN/ETH | 6% | $2-5 | 接口整合、协议优化 |
    | PCB | 8% | $10-20 | 层数优化、尺寸优化 |
    | 散热方案 | 4% | $3-8 | 热设计优化 |
    | 其他 | 17% | $8-15 | 标准化、集成化 |

    ### 成本优化策略

    #### 设计阶段成本优化
    ```mermaid
    graph TD
        A[设计成本优化] --> B[架构优化]
        A --> C[器件优化]
        A --> D[工艺优化]
        
        B --> B1[算力需求精确化]
        B --> B2[接口数量优化]
        B --> B3[冗余度平衡]
        
        C --> C1[主控芯片选型]
        C --> C2[存储容量优化]
        C --> C3[被动器件整合]
        
        D --> D1[PCB层数优化]
        D --> D2[制造工艺选择]
        D --> D3[测试策略优化]
    ```

    #### 供应链成本优化
    ```mermaid
    flowchart LR
        A[供应商管理] --> B[询价比价]
        B --> C[批量谈判]
        C --> D[长期协议]
        D --> E[成本监控]
        
        A --> A1[供应商认证]
        A --> A2[多供应商策略]
        A --> A3[本土化采购]
        
        C --> C1[年度用量承诺]
        C --> C2[阶梯价格协商]
        C --> C3[付款条件优化]
        
        E --> E1[价格变化跟踪]
        E --> E2[市场行情分析]
        E --> E3[成本预警机制]
    ```

    ### 成本分析工具和方法

    #### ABC成本核算法
    ```mermaid
    graph TD
        A[作业成本法ABC] --> B[作业识别]
        B --> C[成本动因分析]
        C --> D[成本分配]
        D --> E[产品成本计算]
        
        B --> B1[研发作业]
        B --> B2[生产作业]
        B --> B3[质量作业]
        B --> B4[管理作业]
        
        C --> C1[时间动因]
        C --> C2[数量动因]
        C --> C3[强度动因]
        
        E --> E1[单位产品成本]
        E --> E2[成本构成分析]
        E --> E3[盈利能力分析]
    ```

    #### 敏感性分析
    ```mermaid
    graph LR
        A[关键变量识别] --> B[变化范围设定]
        B --> C[影响度计算]
        C --> D[风险评估]
        D --> E[应对策略]
        
        A --> A1[芯片价格]
        A --> A2[汇率变化]
        A --> A3[量产规模]
        A --> A4[良率水平]
        
        E --> E1[价格锁定]
        E --> E2[汇率对冲]
        E --> E3[多元化采购]
        E --> E4[质量改进]
    ```
  </process>

  <criteria>
    ## 成本分析评价标准

    ### 分析准确性
    - ✅ **成本预测精度**：量产成本预测误差≤±5%
    - ✅ **分解完整性**：成本分解到器件级覆盖率≥95%
    - ✅ **数据可靠性**：供应商报价有效性≥90%
    - ✅ **更新及时性**：成本数据更新频率≥月度

    ### 目标达成度
    - ✅ **目标成本符合性**：实际成本vs目标成本偏差≤10%
    - ✅ **竞争力指标**：成本竞争力排名前3位
    - ✅ **盈利能力**：毛利率≥目标毛利率
    - ✅ **市场接受度**：客户价格接受度≥80%

    ### 优化效果
    - ✅ **成本降低幅度**：年度成本优化≥5%
    - ✅ **优化措施有效性**：优化措施实施成功率≥85%
    - ✅ **供应商协同**：供应商成本优化参与度≥70%
    - ✅ **持续改进**：成本改进项目数量≥季度目标

    ### 风险控制
    - ✅ **成本风险识别**：成本风险识别覆盖率≥90%
    - ✅ **应对措施准备**：风险应对措施准备度≥80%
    - ✅ **预警机制有效性**：成本预警及时率≥95%
    - ✅ **供应链稳定性**：关键器件供应稳定性≥98%
  </criteria>
</execution>
