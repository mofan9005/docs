<execution>
  <constraint>
    ## ASPICE开发过程约束
    - **过程能力等级要求**：必须达到CL2(管理过程)或CL3(确立过程)等级
    - **工作产品质量**：所有工作产品必须符合ASPICE质量标准
    - **可追溯性要求**：需求、设计、实现、测试之间必须建立完整追溯关系
    - **变更管理约束**：所有变更必须通过正式的变更控制流程
    - **评审检查点**：关键里程碑必须通过正式评审才能进入下一阶段
  </constraint>

  <rule>
    ## ASPICE强制执行规则
    - **SYS.1系统需求分析**：必须建立完整的系统需求基线
    - **SYS.2系统架构设计**：必须定义系统架构和接口规范
    - **SYS.3系统详细设计**：必须细化到可实现的详细设计
    - **SYS.4系统集成测试**：必须验证系统集成的正确性
    - **SYS.5系统确认测试**：必须验证系统需求的满足情况
    - **SUP支持过程**：配置管理、质量保证、变更请求必须并行执行
  </rule>

  <guideline>
    ## ASPICE实施指导
    - **需求工程最佳实践**：使用结构化需求模板，确保需求完整性
    - **架构设计方法**：采用分层架构设计，确保模块化和可维护性
    - **验证策略**：建立V模型验证方法，确保设计与测试对应
    - **工具链集成**：使用ALM工具链支持全流程数据管理
  </guideline>

  <process>
    ## ASPICE系统开发流程

    ### SYS.1 系统需求分析
    ```mermaid
    flowchart TD
        A[利益相关者需求] --> B[系统需求获取]
        B --> C[系统需求分析]
        C --> D[系统需求规范]
        D --> E[需求基线建立]
        
        C --> F[需求验证]
        F --> G[需求确认]
        G --> H[需求管理]
    ```
    
    **关键活动：**
    1. **需求获取**：与客户和利益相关者沟通，获取系统需求
    2. **需求分析**：分析需求的一致性、完整性、可实现性
    3. **需求规范化**：编写结构化的系统需求规范文档
    4. **需求验证**：确保需求正确理解客户意图
    5. **需求管理**：建立需求变更控制和追溯机制

    ### SYS.2 系统架构设计
    ```mermaid
    graph TB
        A[系统需求] --> B[架构分析]
        B --> C[系统分解]
        C --> D[接口定义]
        D --> E[架构验证]
        
        subgraph 设计输出
        F[系统架构规范]
        G[接口规范]
        H[设计约束]
        I[验证策略]
        end
        
        E --> F
        E --> G
        E --> H
        E --> I
    ```
    
    **关键活动：**
    1. **架构分析**：基于需求确定系统架构原则和约束
    2. **系统分解**：将系统分解为子系统和组件
    3. **接口设计**：定义系统内外部接口规范
    4. **架构验证**：验证架构满足系统需求

    ### SYS.3 系统详细设计
    ```mermaid
    flowchart TD
        A[系统架构] --> B[子系统设计]
        B --> C[组件设计]
        C --> D[接口细化]
        D --> E[设计验证]
        
        B --> F[硬件设计]
        B --> G[软件设计]
        B --> H[机械设计]
        
        F --> I[详细设计规范]
        G --> I
        H --> I
        E --> I
    ```

    ### SYS.4 系统集成测试
    ```mermaid
    graph LR
        A[组件集成] --> B[子系统集成]
        B --> C[系统集成]
        C --> D[集成测试]
        D --> E[问题修复]
        E --> F[回归测试]
        F --> G[集成验收]
    ```

    ### SYS.5 系统确认测试
    ```mermaid
    flowchart TD
        A[测试计划] --> B[测试环境准备]
        B --> C[系统测试执行]
        C --> D[测试结果分析]
        D --> E{是否通过}
        E -->|通过| F[系统验收]
        E -->|失败| G[问题修复]
        G --> C
    ```

    ## 智能驾驶域控ASPICE适配流程

    ### 阶段1：系统需求分析 (4周)
    - **Week 1-2**: 客户需求收集、行业标准分析、竞品分析
    - **Week 3**: 系统需求定义、功能安全需求分析
    - **Week 4**: 需求评审、基线建立、需求管理计划

    ### 阶段2：系统架构设计 (6周)
    - **Week 1-2**: 总体架构设计、硬件架构定义
    - **Week 3-4**: 软件架构设计、接口规范制定
    - **Week 5**: 安全架构设计、架构验证
    - **Week 6**: 设计评审、架构基线建立

    ### 阶段3：系统详细设计 (12周)
    - **Week 1-4**: 硬件详细设计、PCB设计
    - **Week 5-8**: 软件详细设计、算法设计
    - **Week 9-10**: 接口详细设计、协议定义
    - **Week 11-12**: 设计验证、设计评审

    ### 阶段4：系统集成测试 (8周)
    - **Week 1-2**: 组件级集成测试
    - **Week 3-4**: 子系统级集成测试  
    - **Week 5-6**: 系统级集成测试
    - **Week 7-8**: 问题修复、回归测试

    ### 阶段5：系统确认测试 (6周)
    - **Week 1-2**: 功能测试、性能测试
    - **Week 3-4**: 安全测试、可靠性测试
    - **Week 5-6**: 客户验收测试、问题闭环
  </process>

  <criteria>
    ## ASPICE评价标准

    ### 过程执行质量
    - ✅ **过程遵循度**：严格按照ASPICE过程执行，过程偏差<5%
    - ✅ **工作产品质量**：所有交付物通过质量检查，缺陷密度<2个/页
    - ✅ **里程碑达成率**：关键里程碑按时达成率≥95%
    - ✅ **评审通过率**：设计评审一次通过率≥90%

    ### 需求管理质量
    - ✅ **需求覆盖率**：系统需求覆盖率=100%
    - ✅ **需求追溯率**：需求向下追溯率≥95%
    - ✅ **需求变更控制**：变更请求处理及时率≥95%
    - ✅ **需求一致性**：需求一致性检查通过率≥98%

    ### 设计验证质量
    - ✅ **设计覆盖率**：设计对需求覆盖率≥98%
    - ✅ **接口一致性**：接口设计一致性检查通过率=100%
    - ✅ **架构合规性**：架构设计符合约束和原则≥95%
    - ✅ **可追溯性**：设计到需求追溯完整性≥95%

    ### 测试验证质量
    - ✅ **测试覆盖率**：需求测试覆盖率≥98%，代码覆盖率≥85%
    - ✅ **缺陷检出率**：测试阶段缺陷检出率≥90%
    - ✅ **测试通过率**：系统测试用例通过率≥95%
    - ✅ **验收成功率**：客户验收测试成功率≥98%
  </criteria>
</execution>
